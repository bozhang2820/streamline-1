{
  "name": "Piper METRICS",
  "engine": "PIPER",
  "template": ["Blank"],
  "metricsUISpec": {
    "metrics": [{
      "name": "status",
      "uiName": "Status",
      "metricKeyName": "status",
      "metricPrevKeyName": "status",
      "valueFormat": "string",
      "defaultValue": ""
    },{
      "name": "latestRun",
      "uiName": "Latest Run",
      "metricKeyName": "latest_execution_date",
      "metricPrevKeyName": "latest_execution_date",
      "valueFormat": "datetime",
      "defaultValue": ""
    },{
      "name": "latestRunResult",
      "uiName": "Latest Run Result",
      "metricKeyName": "latest_execution_status",
      "metricPrevKeyName": "latest_execution_status",
      "valueFormat": "string",
      "defaultValue": ""
    },{
      "name": "Duration",
      "uiName": "Duration",
      "metricKeyName": "taskDuration",
      "metricPrevKeyName": "taskDuration",
      "valueFormat": "time",
      "defaultValue": ""
    },{
      "name": "catchingUp",
      "uiName": "Catching Up",
      "metricKeyName": "auto_backfilling",
      "metricPrevKeyName": "auto_backfilling",
      "valueFormat": "boolean",
      "defaultValue": ""
    },{
      "name": "nextScheduledRun",
      "uiName": "Next Scheduled Run",
      "metricKeyName": "next_execution_date",
      "metricPrevKeyName": "next_execution_date",
      "valueFormat": "datetime",
      "defaultValue": ""
    },{
      "name": "pipelineType",
      "uiName": "Pipeline Type",
      "metricKeyName": "pipeline_type",
      "metricPrevKeyName": "pipeline_type",
      "valueFormat": "string",
      "defaultValue": ""
    },{
      "name": "schedule",
      "uiName": "Schedule",
      "metricKeyName": "cadence",
      "metricPrevKeyName": "cadence",
      "valueFormat": "string",
      "defaultValue": ""
    },{
      "name": "runName",
      "uiName": "Run Name",
      "metricKeyName": "triggered_pipeline_runname",
      "metricPrevKeyName": "triggered_pipeline_runname",
      "valueFormat": "string",
      "defaultValue": ""
    },{
      "name": "taskStatus",
      "uiName": "Status",
      "metricKeyName": "taskStatus",
      "metricPrevKeyName": "taskStatus",
      "valueFormat": "string",
      "defaultValue": ""
    },{
      "name": "startTime",
      "uiName": "Start Time",
      "metricKeyName": "taskStartDate",
      "metricPrevKeyName": "taskStartDate",
      "valueFormat": "datetime",
      "defaultValue": ""
    },{
      "name": "endTime",
      "uiName": "End Time",
      "metricKeyName": "taskEndDate",
      "metricPrevKeyName": "taskEndDate",
      "valueFormat": "datetime",
      "defaultValue": ""
    },{
      "name": "taskSuration",
      "uiName": "Duration",
      "metricKeyName": "taskDuration",
      "metricPrevKeyName": "",
      "valueFormat": "time",
      "defaultValue": ""
    },{
      "name": "retries",
      "uiName": "Retries",
      "metricKeyName": "retries",
      "metricPrevKeyName": "",
      "valueFormat": "datetime",
      "defaultValue": ""
    }],
    "timeseries": [{
      "name": "taskDuration",
      "uiName": "Task Duration",
      "metricKeyName": ["piper_task_duration"],
      "interpolate": "stepped"
    },{
      "name": "avgCPUUsage",
      "uiName": "Avg CPU Usage",
      "metricKeyName": ["average_cpu_usage"],
      "interpolate": "stepped"
    },{
      "name": "memoryUsage",
      "uiName": "Memory Usage",
      "metricKeyName": ["memory_usage"],
      "interpolate": "stepped"
    }],
    "layout":{
      "listing": ["status", "latestRun", "latestRunResult", "nextScheduledRun", "duration"],
      "viewmode": {
        "DAG": {
          "metrics": {
            "topology": [],
            "task": {
              "baseMetrics": ["taskStatus", "startTime", "endTime", "taskSuration"],
              "component_metrics" : {}
            }
          },
          "timeseries": {
            "topology": [],
            "task": {
              "baseMetrics": [],
              "component_metrics": {}
            }
          }
        },
        "metricsSection": {
          "metrics": {
            "topology": ["status"],
            "task": {
              "baseMetrics": ["taskStatus", "startTime", "endTime", "taskSuration"],
              "component_metrics": {}
            }
          },
          "timeseries": {
            "topology": [],
            "task": {
              "baseMetrics": [],
              "component_metrics": {}
            }
          }
        }
      }
    }
  }
}